diff --git a/sklearn/metrics/_classification.py b/sklearn/metrics/_classification.py
--- a/sklearn/metrics/_classification.py
+++ b/sklearn/metrics/_classification.py
@@ -126,9 +126,10 @@
         raise ValueError("{0} is not supported".format(y_type))
 
     if y_type in ["binary", "multiclass"]:
+        try:
+            y_true = column_or_1d(y_true, input_name="y_true")
+            y_pred = column_or_1d(y_pred, input_name="y_pred")
         xp, _ = get_namespace(y_true, y_pred)
-        y_true = column_or_1d(y_true, input_name="y_true")
-        y_pred = column_or_1d(y_pred, input_name="y_pred")
         if y_type == "binary":
             try:
                 unique_values = _union1d(y_true, y_pred, xp)
