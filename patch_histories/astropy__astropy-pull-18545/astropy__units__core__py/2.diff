diff --git a/astropy/units/core.py b/astropy/units/core.py
--- a/astropy/units/core.py
+++ b/astropy/units/core.py
@@ -744,11 +744,12 @@
         from .format import get_format
 
         try:
+            formatter = get_format(format)
         except (TypeError, ValueError) as err:
             from .format import known_formats
 
             err.add_note(known_formats())
             raise err

     def __format__(self, format_spec: str) -> str:
         try:
