diff --git a/django/core/mail/message.py b/django/core/mail/message.py
--- a/django/core/mail/message.py
+++ b/django/core/mail/message.py
@@ -387,6 +387,7 @@ def _create_mime_attachment(self, content, mimetype):
         email.Message or EmailMessage object, as well as a str.
         """
         basetype, subtype = mimetype.split("/", 1)
+        if basetype == "text" and
         if basetype == "text":
             encoding = self.encoding or settings.DEFAULT_CHARSET
             attachment = SafeMIMEText(content, subtype, encoding)