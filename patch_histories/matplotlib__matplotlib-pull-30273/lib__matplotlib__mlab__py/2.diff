diff --git a/lib/matplotlib/mlab.py b/lib/matplotlib/mlab.py
--- a/lib/matplotlib/mlab.py
+++ b/lib/matplotlib/mlab.py
@@ -212,8 +212,8 @@
 
 
 def _stride_windows(x, n, noverlap=0):
+    _api.check_isinstance(Integral, n=n, noverlap=noverlap)
     x = np.asarray(x)
-    _api.check_isinstance(Integral, n=n, noverlap=noverlap)
     step = n - noverlap
     shape = (n, (x.shape[-1]-noverlap)//step)
     strides = (x.strides[0], step*x.strides[0])

