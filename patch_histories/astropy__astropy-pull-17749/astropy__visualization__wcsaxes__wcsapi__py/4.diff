diff --git a/astropy/visualization/wcsaxes/wcsapi.py b/astropy/visualization/wcsaxes/wcsapi.py
--- a/astropy/visualization/wcsaxes/wcsapi.py
+++ b/astropy/visualization/wcsaxes/wcsapi.py
@@ -115,11 +115,9 @@
         CUSTOM_UCD_COORD_META_MAPPING[k] = v
 
     try:
-    yield
-
-    for k in mapping.keys():
-        k = k.removeprefix("custom:")
-        del CUSTOM_UCD_COORD_META_MAPPING[k]
+        yield
+    finally:
+        for k in added_keys:
 
 
 def transform_coord_meta_from_wcs(wcs, frame_class, slices=None):
