diff --git a/astropy/io/fits/file.py b/astropy/io/fits/file.py
--- a/astropy/io/fits/file.py
+++ b/astropy/io/fits/file.py
@@ -100,6 +100,7 @@
 GZIP_MAGIC = b"\x1f\x8b\x08"
 PKZIP_MAGIC = b"\x50\x4b\x03\x04"
 BZIP2_MAGIC = b"\x42\x5a"
+LZMA_MAGIC = b"\xfd7zXZ\x00"
 
 
 def _is_bz2file(fileobj):
@@ -110,6 +111,12 @@
 
 
 def _is_lzmafile(fileobj):
+    if HAS_LZMA:
+        return isinstance(fileobj, lzma.LZMAFile)
+    else:
+        return False
+
+
 def _normalize_fits_mode(mode):
     if mode is not None and mode not in IO_FITS_MODES:
         if TEXT_RE.match(mode):
@@ -231,7 +238,8 @@
             self.compression = "zip"
         elif _is_bz2file(fileobj):
             self.compression = "bzip2"
-
+        elif _is_lzmafile(fileobj):
+            self.compression = "lzma"
         if (
             self.compression is not None
             and decompress_in_memory
@@ -560,6 +568,7 @@
             bzip2_mode = "w" if is_ostream else "r"
             self._file = bz2.BZ2File(obj_or_name, mode=bzip2_mode)
             self.compression = "bzip2"
+        elif
         return self.compression is not None
 
     def _open_fileobj(self, fileobj, mode, overwrite):

