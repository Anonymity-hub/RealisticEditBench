diff --git a/sphinx/io.py b/sphinx/io.py
--- a/sphinx/io.py
+++ b/sphinx/io.py
@@ -23,9 +23,7 @@
     from docutils.parsers import Parser
     from docutils.transforms import Transform
 
-    from sphinx.application import Sphinx
     from sphinx.environment import BuildEnvironment
-    from sphinx.registry import SphinxComponentRegistry
 
 
 logger = logging.getLogger(__name__)
@@ -70,8 +68,8 @@ def new_document(self) -> nodes.document:
 class SphinxStandaloneReader(SphinxBaseReader):
     """A basic document reader for Sphinx."""
 
-    def _setup_transforms(self, *, registry: SphinxComponentRegistry) -> None:
-        self.transforms = self.transforms + registry.get_transforms()
+    def _setup_transforms(self, transforms: list[type[Transform]], /) -> None:
+        self.transforms = self.transforms + transforms
 
     def read(self, source: Input, parser: Parser, settings: Values) -> nodes.document:  # type: ignore[type-arg]
         self.source = source
@@ -114,21 +112,11 @@ def __init__(self, *args: Any, **kwargs: Any) -> None:
         super().__init__(*args, **kwargs)
 
 
-def create_publisher(app: Sphinx, filetype: str) -> Publisher:
+def _create_publisher(
+    *, env: BuildEnvironment, parser: Parser, transforms: list[type[Transform]]
+) -> Publisher:
     reader = SphinxStandaloneReader()
-    reader._setup_transforms(registry=app.registry)
-
-    parser = app.registry.create_source_parser(filetype, config=app.config, env=app.env)
-    if parser.__class__.__name__ == 'CommonMarkParser' and parser.settings_spec == ():
-        # a workaround for recommonmark
-        #   If recommonmark.AutoStrictify is enabled, the parser invokes reST parser
-        #   internally.  But recommonmark-0.4.0 does not provide settings_spec for reST
-        #   parser.  As a workaround, this copies settings_spec for RSTParser to the
-        #   CommonMarkParser.
-        from docutils.parsers.rst import Parser as RSTParser
-
-        parser.settings_spec = RSTParser.settings_spec  # type: ignore[misc]
-
+    reader._setup_transforms(transforms)
     pub = Publisher(
         reader=reader,
         parser=parser,
@@ -137,7 +125,7 @@ def create_publisher(app: Sphinx, filetype: str) -> Publisher:
         destination=NullOutput(),
     )
     # Propagate exceptions by default when used programmatically:
-    defaults = {'traceback': True, **app.env.settings}
+    defaults = {'traceback': True, **env.settings}
     # Set default settings
     pub.get_settings(**defaults)
     return pub
diff --git a/sphinx/registry.py b/sphinx/registry.py
--- a/sphinx/registry.py
+++ b/sphinx/registry.py
@@ -12,7 +12,7 @@
 from sphinx.domains.std import GenericObject, Target
 from sphinx.errors import ExtensionError, SphinxError, VersionRequirementError
 from sphinx.extension import Extension
-from sphinx.io import create_publisher
+from sphinx.io import _create_publisher
 from sphinx.locale import __
 from sphinx.parsers import Parser as SphinxParser
 from sphinx.roles import XRefRole
@@ -601,7 +601,9 @@ def get_publisher(self, app: Sphinx, filetype: str) -> Publisher:
             return self.publishers[filetype]
         except KeyError:
             pass
-        publisher = create_publisher(app, filetype)
+        parser = self.create_source_parser(filetype, config=app.config, env=app.env)
+        transforms = self.get_transforms()
+        publisher = _create_publisher(env=app.env, parser=parser, transforms=transforms)
         self.publishers[filetype] = publisher
         return publisher
 